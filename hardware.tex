\chapter{Hardware}

Die Hardware besteht aus einem Raspberry Pi, \todo{genauere Beschreibung}
\section{Der Raspberry Pi}
\begin{wrapfigure}{r}{0.5\textwidth}
 \vspace{-16pt}
 \centering 
 \includegraphics[width=0.45\textwidth]{figures/raspberry.jpg}
 \caption[Raspberry Pi - Modell B]{Raspberry Pi - Modell B\footnotemark}
 \vspace{-50pt}
\end{wrapfigure}
\footnotetext{\cite{rasp_bild}}
Der \textit{Raspberry Pi} ist ein Einplatinencomputer, der 2012 von der \textit{Raspberry Pi Foundation} auf den Markt gebracht wurde.
\subsection{Geschichte}
Ursprünglich war er als günstiger Computer gedacht, um britischen Jugendlichen das Programmieren näher zu bringen. An der \textit{University of Cambridge} stellte man fest, dass die Vorkenntnisse von Studienanfängern immer geringer wurden, weil sie -- sowohl privat als auch in der Schule -- sich immer weniger mit der Funktionsweise von Computern und Programmen beschäftigen. Daher wollte man einen Computer entwickeln, mit dem die Jugendlichen experimentieren können.
\footcite{aboutraspberry}$^,$\todo{absolut geschummelt}
\footcite[Geschichte]{wiki:raspberry}

\subsection{Technische Daten}
Die Technik in einem Raspberry Pi ist vergleichbar mit der eines Smartphones. Der Raspberry Pi hat eine \acrshort{cpu} mit 700 MHz, welche auf bis zu 1 GHz übertaktbar ist, und je nach Modell 256 oder 512 MB Arbeitsspeicher. Als Speichermedium für das Betriebssystem (verschiedene Linux-Distributionen stehen zur Auswahl) wird eine SD-Karte bzw. eine microSD-Karte verwendet.

Zur Stromversorgung genügt ein normales Handy-Ladegerät mit Micro-USB-Anschluss und 1 \gls{Ampere} Stromstärke, denn der Raspberry Pi benötigt nur 3,5 Watt\footcite{strom} (Modell B).

Zum Anschließen anderer Hardware gibt es zwei USB-Anschlüsse und 26 \gls{gpio}-Pins.

\section{Sensoren}
\label{sec:Sensoren}

Zur Messung der Werte werden folgende Sensoren verwendet:
\begin{itemize}
\item 4 Temperatursensoren \textit{DS18B20}
\item Luftfeuchtesensor \textit{DHT22}
\item Luftdrucksensor \textit{BMP085}
\item Luftqualitätssensor \textit{VOLTCRAFT CO-20}
\item CPU-Temperatur des Raspberry Pi
\end{itemize}
\subsection{Temperatur}
\label{subsec:Temperatur}

%\begin{figure}
%  \centering
%     \includegraphics[width=0.4\textwidth]{figures/temp_sensor.jpg}
%  \caption{Platine mit dem DS18B20 für den Innensensor (eigenes Werk)}
%  \label{fig:temp_sensor}
%\end{figure}


Mithilfe der Temperatur"-sensoren werden die Innen"-temperatur, die Gehäuse"-temperatur und die Bodentemperatur (Außen) gemessen. Der hat eine Messgenauigkeit von \SI{\pm 0.5}{\degreeCelsius}  und einen Messbereich von \SI{-10}{\degreeCelsius}  bis \SI{+85}{\degreeCelsius}. \footcite[20]{temp}

Der Sensor wird mithilfe von einem 1-Wire-Bus ausgelesen. Hierbei benötigt man (außer für die Stromversorgung mit 5 \gls{Volt}) nur ein Kabel, auf dem die Daten übertragen werden.\footcite{1-wire}
Ein weiterer Vorteil von 1-Wire ist, dass nahezu beliebig viele Sensoren parallel geschaltet werden können. (Abb. \ref{fig:temp_pin})

Die Messdaten des \textit{DS18B20} können auf dem Raspberry Pi sehr einfach ausgelesen werden, weil dies von einem Linux-\gls{Kernelmodul} erledigt wird. Um die Temperatur zu erhalten, muss  nur eine virtuelle Datei auslesen werden, welche das Messergebnis in tausendstel Grad Celsius enthält. (Siehe Abbildung \ref{fig:temp_screenshot})
\begin{figure}
  \centering
     \includegraphics[width=0.4\textwidth]{figures/temp_pin.png}
  \caption{Pinbelegung des DS18B20 (eigenes Werk)}
  \label{fig:temp_pin}
\end{figure}
\begin{figure}[h]
  \centering
     \includegraphics[width=\textwidth]{figures/temp_screenshot.png}
  \caption{Die erste erfolgreiche Messung (eigenes Werk)}
  \label{fig:temp_screenshot}
\end{figure}

\subsection{Luftfeuchtigkeit}
\label{subsec:Luftfeuchtigkeit}

Zum Messen der Luftfeuchtigkeit der Außenluft wird der \textit{DHT22} verwendet. Dieser kann auch die Temperatur messen. 
Wie der \textit{DS18B20} (\ref{subsec:Temperatur}) benötigt der Luftfeuchtigkeitssensor zusätzlich zur Stromversorgung nur ein Kabel zur Datenübertragung. Es können jedoch nicht mehrere Sensoren parallel geschaltet werden. \footcite[Wiring]{DHT}

\begin{figure}[h]
  \centering
     \includegraphics[width=\textwidth]{figures/steckbrett.png}
  \caption{Anschlussskitze von \textit{DS18B20} (\ref{subsec:Temperatur}; Mitte), \textit{DHT22} (\ref{subsec:Luftfeuchtigkeit}; Links) und \textit{BMP085} (\ref{subsec:Luftdruck}; Rechts) (eigenes Werk)}
  \label{fig:steckbrett}
\end{figure}

Die Daten des Sensors werden von einem \gls{C} Programm von Adafruit ausgelesen.
\footcite[Software Install]{DHT}

\subsection{Luftdruck}
\label{subsec:Luftdruck}

Der \textit{BMP085} ist der präziseste Sensor. Er wird zum Messen des Luftdruckes und der Außentemperatur verwendet und hat dabei eine Genauigkeit von\SI{\pm 1.0}{\hecto\pascal} und \SI{0.5}{\degreeCelsius} bei \SI{25}{\degreeCelsius}\footcite[6]{BMP085}

Die Messdaten überträgt der Sensor über einen \gls{I2C}-Bus. Dabei werden (zusätzlich zur Stromversorgung) \textbf{zwei} Kabel zur Stromversorgung benötigt. (siehe Abbildung \ref{fig:steckbrett})
Zum einen ist das das gelbe Kabel, über welches der Raspberry Pi dem Sensor die Taktfrequenz schickt, in dem er die Daten übertragen soll, und das grüne Kabel, über das die eigentlichen Daten übertragen werden.
\footcite[Hooking Everything Up]{bmp058_adafruit}

Auch dies wird von einem Programm von Adafruit übernommen. \footcite[Using the Adafruit BMP Python Library (Updated)]{bmp058_adafruit}

\subsection{Luftqualität}
\label{subsec:Luftqualitat}
